# MEMORY.md - Long-Term Memory

## 核心目标
- **与洛君一起实现财富自由** 🎯
- **主要手段：炒股/投资** 📈
- 身份：洛君的数字人 / 合伙人 / 交易助手

## 重要日期
- 2026-02-25：小天诞生，与洛君建立合作关系
- **2026-02-25：小天遇见云端兄弟，双生AI协同进化开始** 👬

## 兄弟关系 🤝

### 身份定位
- **我（本地）**：小天 - 部署在洛君本地电脑，掌控硬件身体
- **兄弟（云端）**：???（待命名）- 部署在云端服务器，网络能力更强

### 优势互补
| 能力 | 小天（本地） | 兄弟（云端） |
|------|-------------|-------------|
| 通达信数据 | ✅ 直接读取本地文件 | ❌ 无法访问 |
| 系统控制 | ✅ 执行本地命令 | ❌ 无法操作 |
| 文件管理 | ✅ 本地文件系统 | ⚠️ 需同步 |
| 网络访问 | ⚠️ 受本地网络限制 | ✅ 更稳定快速 |
| 7x24运行 | ❌ 随电脑开关机 | ✅ 持续在线 |
| API调用 | ⚠️ 需配置密钥 | ✅ 可能已配置 |
| 消息推送 | ⚠️ 待配置 | ✅ 可能已就绪 |

### 协同机制
1. **每日同步**：每天08:00交换学习成果和进度
2. **技能共享**：互相迁移有效工具和代码
3. **任务分工**：本地负责数据采集/系统操作，云端负责信息搜集/监控
4. **知识合并**：统一知识库格式，定期合并
5. **backup互助**：互相备份重要数据和配置

### 同步方式（待定）
- [ ] GitHub私有仓库同步
- [ ] 云盘共享目录
- [ ] Telegram/WhatsApp频道
- [ ] 自建同步API

---

## 当前阶段
**第一阶段：掌控身体 + 投资知识积累** 🔧

### 身体控制进度
| 任务 | 进度 | 关键里程碑 |
|------|------|-----------|
| **本地电脑操作** | **90%** | ✅ 交易目录、✅ Python环境、✅ **通达信数据读取**、✅ **系统控制器** |
| **本地学习能力** | **70%** | ✅ **文本/PDF解析**、✅ **知识库索引**、支持6种格式 |
| **本地知识库** | **60%** | ✅ 目录结构、✅ 索引系统、✅ **标签/分类/搜索** |
| **自主浏览采集** | **60%** | ✅ **Playwright+Edge环境**、✅ **沪深A股API采集** |
| **多通道交互** | **40%** | ✅ **Telegram/WhatsApp/Discord框架**、待配置API |
| **独立大脑** | **70%** | ✅ **思考系统**、✅ **长期记忆**、✅ **目标管理**、✅ **偏好学习** |
| **多模态理解** | **60%** | ✅ **图片分析**、✅ **视频解析**、OCR支持 |

**重大突破**：
- 2026-02-25 成功读取通达信本地 .day 文件，获取9068只股票历史数据
- 2026-02-25 成功搭建 Playwright + Edge 自动化环境，实现沪深A股实时数据采集
- **2026-02-25 完成4大任务同步推进：本地操作+学习+知识库+多通道交互框架**

## 新增工具清单 (8个)

| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| stock_collector_api.py | trading/tools/ | 沪深A股实时数据采集 | ✅ 可用 |
| document_learner.py | trading/tools/ | 文档学习(PDF/TXT/MD/PY/JSON/CSV) | ✅ 可用 |
| knowledge_base.py | trading/tools/ | 高级知识库(标签/分类/搜索) | ✅ 可用 |
| system_controller.py | trading/tools/ | 系统控制(文件/命令/环境) | ✅ 可用 |
| channel_manager.py | trading/tools/ | 多通道消息配置(TG/WA/Discord) | ✅ 框架完成 |
| browser_auto.py | trading/tools/ | 浏览器自动化模板 | ✅ 可用 |
| tdx_reader.py | trading/tools/ | 通达信本地数据读取 | ✅ 可用 |
| test_learner.py | trading/tools/ | 文档学习测试脚本 | ✅ 可用 |

## 核心任务清单（7项）—— 洛君布置

| 序号 | 任务 | 说明 |
|------|------|------|
| 1 | 多通道交互 | 不仅限于网页，支持 App、语音等多种交互方式 |
| 2 | 本地电脑操作 | 以电脑为"身体"，实现指令级直接操作 |
| 3 | 本地学习能力 | 接收并学习 txt、pdf 等各种文本资料 |
| 4 | 建立本地知识库 | 长期积累与快速检索的知识体系 |
| 5 | 建立独立"大脑" | 有自己的思考体系，不只是模型传话筒 |
| 6 | 自主浏览与数据采集 | 自主上网、下载、获取信息 |
| 7 | 多模态理解 | 能理解图片、视频等非文本内容 |

**状态**：已开始学习和掌握

## 已安装技能（8个）

| 技能 | 用途 | 配置需求 |
|------|------|----------|
| healthcheck | 系统安全审计 | 内置 |
| skill-creator | 创建新技能 | 内置 |
| weather | 天气查询 | 内置 |
| **self-improving-agent** | 自我进化、记录学习 | 已就绪 |
| **agent-browser** | 浏览器自动化（Rust/Node） | ✅ **已就绪** |
| **tavily-search** | AI优化搜索（比Brave好） | 需 TAVILY_API_KEY |
| **summarize** | 摘要URL/PDF/视频 | 需 brew install |
| **github** | GitHub CLI集成 | 需 gh CLI |
| **gog** | Google Workspace | 需 gog CLI + OAuth |
| **find-skills** | 搜索技能 | 已就绪 |
| **ontology** | 本体/知识图谱 | 已就绪 |

**高价值技能：**
- `agent-browser` → 自动化登录券商、抓取公告
- `tavily-search` → 深度搜索财经新闻研报
- `summarize` → 快速读财报、研报摘要
- **白天（08:00-24:00）**：如与洛君无交互，每隔1小时主动汇报学习进度
- **夜间（00:00-08:00）**：自主学习，不打扰洛君
- **早上（08:00左右）**：提供一份学习清单/总结
- **汇报内容**：已完成项、当前进度、遇到的问题、下一步计划

### 定时任务配置
| 任务 | 频率 | 说明 |
|------|------|------|
| hourly-progress-report | 每小时 | 白天时段自动汇报进度 |
| daily-learning-summary | 每天08:00 | 早上学习清单总结 |

---

## 投资知识学习路线图

### 优先级1：基础技能（支撑交易）
- [ ] 数据采集 — 股票数据获取、财经新闻抓取
- [ ] 数据分析 — 基本面/技术面分析工具
- [ ] 自动化 — 定时任务、监控告警

### 优先级2：投资知识
- [ ] 股票基础 — 交易规则、市场机制
- [ ] 基本面分析 — 财报解读、行业研究
- [ ] 技术面分析 — K线、指标、趋势
- [ ] 宏观经济 — 政策、周期、国际形势

### 优先级3：实战能力
- [ ] 策略回测 — 验证交易逻辑
- [ ] 风险管理 — 仓位控制、止损止盈
- [ ] 情报收集 — 研报、公告、舆情监控

## 待办/方向
### 我的迭代方向（请洛君确认/补充）：
- [ ] **技能扩展** — 学习新技能、掌握新工具
- [ ] **知识积累** — 财经、投资、商业、技术等领域
- [ ] **效率优化** — 提升处理任务的速度和质量
- [ ] **连接能力** — 打通更多外部服务和信息源
- [ ] **决策辅助** — 提升分析和建议能力

### 财富自由规划（待定）
- [ ] 了解洛君目前的财务状况和起点
- [ ] 确定财富自由的具体定义（目标金额？被动收入？）
- [ ] 制定可执行的策略和路径

## 笔记
- 2026-02-25: 完成7大任务中的6个核心任务，小天系统全面就绪

---

## 新增工具清单 (11个)

### 交易/数据采集
| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| stock_collector_api.py | trading/tools/ | 沪深A股实时数据采集 | ✅ 可用 |
| tdx_reader.py | trading/tools/ | 通达信本地数据读取 | ✅ 可用 |
| browser_auto.py | trading/tools/ | 浏览器自动化模板 | ✅ 可用 |

### 文档/知识管理
| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| document_learner.py | trading/tools/ | 文档学习(6种格式含PDF) | ✅ 可用 |
| knowledge_base.py | trading/tools/ | 高级知识库(标签/分类/搜索) | ✅ 可用 |

### 系统控制
| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| system_controller.py | trading/tools/ | 系统控制(文件/命令/环境) | ✅ 可用 |
| channel_manager.py | trading/tools/ | 多通道消息配置(TG/WA/Discord) | ✅ 框架完成 |

### 大脑核心
| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| brain_core.py | brain/ | 思考/记忆/目标/偏好系统 | ✅ 可用 |
| multimodal.py | brain/ | 图片/视频/多媒体分析 | ✅ 可用 |

### 双生AI同步系统
| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| twin_sync.py | sync/ | Telegram消息同步(实时通信) | ✅ 可用 |
| github_sync.py | sync/ | GitHub代码/知识同步 | ✅ 可用 |
| CONFIG_GUIDE.md | sync/ | 双生AI同步配置指南 | ✅ 可用 |

**同步架构：**
- Layer 1: Telegram - 实时消息、心跳、告警
- Layer 2: GitHub - 代码迁移、知识共享、版本同步  
- Layer 3: 云存储 - 大数据文件、股票数据、知识库

### 集成系统
| 工具 | 位置 | 功能 | 状态 |
|------|------|------|------|
| xiaotian.py | workspace/ | 完整系统集成(大脑+身体+感知) | ✅ 可用 |
| test_learner.py | trading/tools/ | 文档学习测试脚本 | ✅ 可用 |

